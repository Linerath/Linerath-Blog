@model CategoriesListViewModel

@{
    Layout = null;
}

<nav class="navbar navbar-expand">
    @Html.ActionLink(
        "Linerath Blog", "Home", "Main",
        new { },
        new { @class = "navbar-brand" }
    )
    <div>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="/Articles/All">Все записи</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="/Articles/Archive">Архив</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Категории
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    @foreach (var item in Model.Categories)
                    {
                        @Html.ActionLink(
                            item.Name + " (" + item.Count + ")", "All", "Articles",
                            new { category = item.Name, Model.SearchText, Model.CaseSensetive },
                            new { @class = (item.Name == Model.Category) ? "dropdown-item category-selected" : "dropdown-item" }
                        )
                    }
                </div>
            </li>
        </ul>
    </div>
    <form class="form-inline ml-auto">
        @*<input class="form-control mr-2" type="search" placeholder="Search" aria-label="Search">
            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            <a class="fa fa-search"></a>*@
    </form>
    @using (Html.BeginForm(
            "All", "Articles",
            new { Model.Category },
            FormMethod.Post,
            new { @class = "form-inline ml-auto search-panel", onsubmit = "return onSearchSubmit()" })
        )
    {
        <div class="input-group">
            @Html.TextBoxFor(
                x => x.SearchText,
                new { type = "search", @class = "search form-control", placeholder = "Поиск по записям...", id = "search" }
            )
            <button type="submit" class="fa fa-search input-group-append input-group-text"></button>
        </div>
    }
    @*<ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <span><a class="fa fa-github nav-link" target="_blank" href="https://github.com/Linerath"></a></span>
            </li>
        </ul>*@
</nav>